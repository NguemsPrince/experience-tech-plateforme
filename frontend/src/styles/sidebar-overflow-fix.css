/* ============================================
   FIXES POUR DÉBORDEMENT DU MENU SUR DESKTOP
   ============================================ */

/* Sidebar Dashboard - Prévention des débordements */
.dashboard aside,
.dashboard .sidebar {
  max-width: 100vw;
  overflow-x: hidden;
  overflow-y: auto;
}

/* Sidebar ouverte - Desktop moyen (1024px - 1280px) */
@media (min-width: 1024px) and (max-width: 1280px) {
  /* Réduire la largeur du sidebar ouvert - Utiliser des sélecteurs plus spécifiques */
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) {
    width: 280px !important;
    max-width: 280px !important;
  }
  
  /* Ajuster le margin-left du contenu principal */
  .dashboard > div[class*="transition-all"][class*="lg:ml-80"] {
    margin-left: 280px !important;
  }
  
  /* Sidebar collapsed reste à 80px */
  .dashboard aside[class*="w-20"] {
    width: 80px !important;
    max-width: 80px !important;
  }
  
  .dashboard > div[class*="transition-all"][class*="lg:ml-20"] {
    margin-left: 80px !important;
  }
  
  /* Réduire le padding du header dans le dashboard */
  .dashboard header[class*="p-6"] {
    padding: 1rem !important;
  }
  
  /* Réduire l'espacement dans ModernHeader */
  .dashboard header div[class*="mx-8"] {
    margin-left: 1rem !important;
    margin-right: 1rem !important;
  }
  
  /* Réduire la largeur max de la recherche */
  .dashboard header div[class*="max-w-md"] {
    max-width: 14rem !important;
  }
}

/* Sidebar ouverte - Desktop petit (1024px - 1152px) */
@media (min-width: 1024px) and (max-width: 1152px) {
  /* Réduire encore plus la largeur */
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) {
    width: 240px !important;
    max-width: 240px !important;
  }
  
  .dashboard > div[class*="transition-all"][class*="lg:ml-80"] {
    margin-left: 240px !important;
  }
  
  /* Réduire le padding interne */
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) div[class*="p-6"] {
    padding: 1rem !important;
  }
  
  /* Réduire la taille du texte dans le sidebar */
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) h2 {
    font-size: 0.875rem !important;
  }
  
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) p {
    font-size: 0.75rem !important;
  }
  
  /* Réduire l'espacement des items de navigation */
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) nav ul[class*="space-y"] > li {
    margin-bottom: 0.25rem !important;
  }
  
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) nav button {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.875rem !important;
  }
  
  /* Réduire encore plus l'espacement du header */
  .dashboard header div[class*="mx-8"] {
    margin-left: 0.5rem !important;
    margin-right: 0.5rem !important;
  }
  
  .dashboard header div[class*="max-w-md"] {
    max-width: 12rem !important;
  }
}

/* Desktop moyen-large (1281px - 1535px) - Largeur intermédiaire */
@media (min-width: 1281px) and (max-width: 1535px) {
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) {
    width: 300px !important;
    max-width: 300px !important;
  }
  
  .dashboard > div[class*="transition-all"][class*="lg:ml-80"] {
    margin-left: 300px !important;
  }
}

/* Desktop très large - Largeur normale */
@media (min-width: 1536px) {
  .dashboard aside[class*="w-80"]:not([class*="w-20"]) {
    width: 320px !important;
    max-width: 320px !important;
  }
  
  .dashboard > div[class*="transition-all"][class*="lg:ml-80"] {
    margin-left: 320px !important;
  }
}

/* ============================================
   HEADER PRINCIPAL - PRÉVENTION DÉBORDEMENT
   ============================================ */

/* Header - S'assurer qu'il ne déborde pas */
header nav {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Header actions - Prévenir le débordement */
header .header-actions,
header .flex.items-center.space-x-1 {
  max-width: 100%;
  overflow-x: visible;
  flex-wrap: wrap;
}

/* Desktop moyen - Réduire l'espacement du header */
@media (min-width: 1024px) and (max-width: 1280px) {
  header nav .flex.items-center.space-x-3 {
    gap: 0.5rem !important;
  }
  
  header nav a,
  header nav button {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.75rem !important;
  }
  
  /* Réduire la largeur de la barre de recherche */
  header .max-w-xs {
    max-width: 12rem !important;
  }
}

/* Desktop petit - Ajustements supplémentaires */
@media (min-width: 1024px) and (max-width: 1152px) {
  header nav .flex.items-center.space-x-3 {
    gap: 0.25rem !important;
  }
  
  header nav a,
  header nav button {
    padding: 0.5rem !important;
    font-size: 0.7rem !important;
  }
  
  /* Masquer certains éléments non essentiels si nécessaire */
  header .hidden.lg\:block.max-w-xs {
    max-width: 10rem !important;
  }
}

/* ============================================
   CONTENU PRINCIPAL - ADAPTATION
   ============================================ */

/* S'assurer que le contenu principal ne déborde pas */
.dashboard main,
.dashboard .transition-all {
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* Padding adaptatif selon la taille d'écran */
@media (min-width: 1024px) and (max-width: 1280px) {
  .dashboard main.p-6 {
    padding: 1rem !important;
  }
}

@media (min-width: 1281px) and (max-width: 1535px) {
  .dashboard main.p-6 {
    padding: 1.5rem !important;
  }
}

/* ============================================
   TABLES ET CONTENU LARGE
   ============================================ */

/* Tables - Prévenir le débordement horizontal */
.dashboard .overflow-x-auto {
  max-width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Cards et contenus - S'assurer qu'ils s'adaptent */
.dashboard .grid,
.dashboard .flex {
  max-width: 100%;
  box-sizing: border-box;
}

/* ============================================
   MODAL ET DROPDOWN - PRÉVENTION DÉBORDEMENT
   ============================================ */

/* Dropdowns - S'assurer qu'ils ne débordent pas de l'écran */
.dropdown-menu,
.absolute.top-full {
  max-width: calc(100vw - 2rem);
  left: auto !important;
  right: 0 !important;
}

@media (min-width: 1024px) {
  .dropdown-menu,
  .absolute.top-full {
    max-width: 20rem;
  }
}

/* Modals - Centrer et limiter la largeur */
.modal-content,
.fixed.inset-0 .bg-white {
  max-width: 90vw;
  margin: 0 auto;
}

@media (min-width: 1024px) {
  .modal-content,
  .fixed.inset-0 .bg-white {
    max-width: 600px;
  }
}

/* ============================================
   UTILITAIRES GLOBAUX
   ============================================ */

/* Prévenir le débordement horizontal global */
body,
html {
  overflow-x: hidden;
  max-width: 100vw;
  box-sizing: border-box;
}

/* Container principal */
#root,
.app {
  max-width: 100vw;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* ============================================
   FIXES SPÉCIFIQUES POUR TAILWIND
   ============================================ */

/* Utiliser des sélecteurs d'attributs pour cibler les classes Tailwind */
.dashboard aside[class*="w-80"] {
  box-sizing: border-box;
}

.dashboard > div[class*="transition-all"] {
  box-sizing: border-box;
  width: calc(100% - var(--sidebar-width, 320px));
}

/* Variables CSS pour la largeur du sidebar */
@media (min-width: 1024px) and (max-width: 1152px) {
  .dashboard {
    --sidebar-width: 240px;
  }
}

@media (min-width: 1153px) and (max-width: 1280px) {
  .dashboard {
    --sidebar-width: 280px;
  }
}

@media (min-width: 1281px) and (max-width: 1535px) {
  .dashboard {
    --sidebar-width: 300px;
  }
}

@media (min-width: 1536px) {
  .dashboard {
    --sidebar-width: 320px;
  }
}

/* Sidebar collapsed - toujours 80px */
.dashboard aside[class*="w-20"] {
  --sidebar-width: 80px;
}
